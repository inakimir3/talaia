<header id="site-header" class="fixed w-full top-0 left-0 z-50 px-5 lg:px-10 py-5 transition-colors duration-300">
    <article class="w-full flex items-center justify-between">
        <a href="/">
            <img
                id="header-logo"
                src="/images/logo-talaia-white.svg"
                data-logo-white="/images/logo-talaia-white.svg"
                data-logo-dark="/images/logo-talaia.svg"
                alt="Logo de Talaia"
                class="h-24 w-auto transition-all duration-300"
            />
        </a>

        <nav class="flex items-center gap-6 header-nav">
            <a href="https://wa.me/34666332384" target="_blank" class="hidden lg:flex header-phone px-4 rounded-full py-3 items-center gap-2 transition duration-300">
                <i class="fa-solid fa-phone fa-sm"></i>
                <span>+34 666 332 384</span>
            </a>

            <div id="menu-btn" class="c-btn z-50">
                <i class="fa-solid fa-bars-staggered fa-lg c-icon"></i>
            </div>
        </nav>
    </article>
</header>

<div id="mobile-menu" class="fixed top-0 right-0 h-dvh w-full lg:w-fit px-5 lg:px-20 bg-black z-60 translate-x-full transition-transform duration-500 ease-in-out">
    <div class="absolute top-10 right-10">
        <div id="close-menu-btn" class="c-btn c-btn--light">
            <i class="fa-solid fa-xmark fa-lg c-icon"></i>
        </div>
    </div>

    <nav class="h-full flex flex-col items-center lg:items-start justify-center gap-8 text-white text-4xl font-light">
        <a href="/reservas" class="hover:opacity-60 transition">Reservas</a>
        <a href="https://wa.me/34666332384" target="_blank" class="hover:opacity-60 transition">Contactar</a>
        <a href="https://www.instagram.com/talaiacharter/" target="_blank" class="hover:opacity-60 transition">Instagram</a>
    </nav>
</div>


<style>
    /* ===== Header inicial ===== */
#site-header {
    background: transparent;
    height: fit-content /* Altura inicial */
    padding: 10px 40px; /* Padding inicial */
    transition: background 0.3s, height 0.3s, padding 0.3s;
}

#header-logo {
    height: 96px; /* Tamaño inicial */
    transition: height 0.3s;
}

.header-nav {
    gap: 24px; /* Espaciado inicial entre elementos del nav */
    transition: gap 0.3s;
}

.header-link {
    color: white;
}

.header-link:hover {
    color: black;
}

.header-phone {
    background: white;
    color: black;
    transition: background 0.3s, color 0.3s, transform 0.3s, border 0.3s;
}

.header-phone:hover {
    background: black;
    color: white;
    transform: scale(1.05);
}

/* ===== Estado SCROLL ===== */
#site-header.scrolled {
    background: white;
    height: fit-content;
    padding: 10px 20px; /* Padding reducido */
}

#site-header.scrolled #header-logo {
    height: 64px; /* Logo más pequeño */
}

#site-header.scrolled .header-nav {
    gap: 16px; /* Menos separación entre enlaces */
}

#site-header.scrolled .header-link {
    color: black;
}

#site-header.scrolled .header-link:hover {
    color: #555;
}

#site-header.scrolled .header-phone {
    background: black;
    color: white;
    border: 1px solid black;
}

#site-header.scrolled .header-phone:hover {
    background: white;
    color: black;
    transform: scale(1.05);
}

/* ===== Botones menú ===== */
.c-btn {
    width: 48px;
    height: 48px;
    background: black;
    color: white;
    border-radius: 9999px;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    cursor: pointer;
    transition: width 0.3s, height 0.3s, background 0.3s, color 0.3s;
}

.c-btn--light {
    background: white;
    color: black;
}

#site-header.scrolled .c-btn {
    background: black;
    width: 40px;
    height: 40px; /* Botón ligeramente más pequeño */
}

.c-icon {
    animation: back 0.3s ease forwards;
}

.c-btn:hover .c-icon {
    animation: forward 0.3s ease forwards;
}

@keyframes forward {
    0%   { transform: translateX(0); opacity: 1; }
    40%  { transform: translateX(120%); }
    41%  { transform: translateX(-120%); opacity: 0; }
    100% { transform: translateX(0); opacity: 1; }
}

@keyframes back {
    0%   { transform: translateX(0); opacity: 1; }
    40%  { transform: translateX(-120%); }
    41%  { transform: translateX(120%); opacity: 0; }
    100% { transform: translateX(0); opacity: 1; }
}

</style>

<script>
const header = document.getElementById('site-header');
const logo = document.getElementById('header-logo');

const logoWhite = logo.dataset.logoWhite;
const logoDark = logo.dataset.logoDark;

// Comprobamos si estamos en la home
const isHome = window.location.pathname === '/' || window.location.pathname.endsWith('index.html');

// ===== Header: scroll solo en home =====
if (isHome) {
    window.addEventListener('scroll', () => {
        if (window.scrollY > 100) {
            header.classList.add('scrolled');
            logo.src = logoDark;
        } else {
            header.classList.remove('scrolled');
            logo.src = logoWhite;
        }
    });
} else {
    // En otras páginas, aplicamos el estilo "scrolled" por defecto
    header.classList.add('scrolled');
    logo.src = logoDark;
}

// ===== Menú móvil =====
const menuBtn = document.getElementById('menu-btn');
const closeBtn = document.getElementById('close-menu-btn');
const mobileMenu = document.getElementById('mobile-menu');

function openMenu() {
    mobileMenu.classList.remove('translate-x-full');
    mobileMenu.classList.add('translate-x-0');
    document.body.classList.add('overflow-hidden');
}

function closeMenu() {
    mobileMenu.classList.add('translate-x-full');
    mobileMenu.classList.remove('translate-x-0');
    document.body.classList.remove('overflow-hidden');
}

menuBtn.addEventListener('click', openMenu);
closeBtn.addEventListener('click', closeMenu);
</script>


